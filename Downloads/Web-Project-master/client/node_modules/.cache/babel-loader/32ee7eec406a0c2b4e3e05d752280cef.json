{"ast":null,"code":"var _jsxFileName = \"/Users/Pranavkapoor1/Downloads/Web-Project-master/client/src/Rent/pages/RentPage.jsx\";\nimport React, { useState, useEffect, useCallback, useContext, useRef } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport gsap from 'gsap';\nimport axios from '../../axios';\nimport PreLoader from '../../shared/components/PreLoader/PreLoader';\nimport RentForm from '../components/RentForm';\nimport Layout from '../../shared/components/Layout/Layout';\nimport { AuthContext } from '../../shared/contexts/AuthContext';\nimport { MdDirectionsCar, MdAirlineSeatReclineNormal } from 'react-icons/md';\nimport { GoGear } from 'react-icons/go';\nimport { IoMdSnow } from 'react-icons/io';\nconst DetailRentPage = props => {\n  const {\n    userId\n  } = useContext(AuthContext);\n  const [isLoading, setIsLoading] = useState(false);\n  const [selected, setSelected] = useState({});\n  let tl = useRef();\n  let title = useRef(null);\n  let line = useRef(null);\n  const history = useHistory();\n  const carId = useParams().id;\n  useEffect(() => {\n    tl.current = gsap.timeline();\n    tl.current.from(title, 1.5, {\n      scale: 0.5,\n      opacity: 0\n    }).from(line, 2, {\n      width: 0\n    }, 0.5);\n  }, []);\n\n  //Fetch single car element\n  useEffect(() => {\n    setIsLoading(true);\n    axios.get(`/fleet/${carId}`).then(res => {\n      setIsLoading(false);\n      setSelected(res.data.car);\n    }).catch(err => {\n      setIsLoading(false);\n      console.log(err);\n    });\n  }, [carId]);\n\n  //Make an order\n  const onOrderHandler = useCallback(order => {\n    setIsLoading(true);\n    axios.post('/orders', order, {\n      'Content-Type': 'application/json'\n    }).then(res => {\n      setIsLoading(false);\n      history.push(`/my-orders/${userId}`);\n    }).catch(err => {\n      setIsLoading(false);\n      console.log(err);\n    });\n  }, [history, userId]);\n  let fixedPrice;\n  if (selected.price) {\n    fixedPrice = selected.price.toFixed(2);\n  }\n  ;\n  let image;\n  if (selected.image) {\n    image = selected.image;\n  }\n  const styleme = {\n    width: '30%',\n    paddingtop: 10\n  };\n  return /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    ref: el => title = el,\n    className: \"home-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, \"Rent a car, it has never been easier \"), /*#__PURE__*/React.createElement(\"p\", {\n    ref: el => line = el,\n    className: \"line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rent-page-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, isLoading ? /*#__PURE__*/React.createElement(PreLoader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 23\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"item-cars\",\n    style: styleme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }, selected.name, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 60\n    }\n  }, \" \", selected.model)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"options\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      textTransform: \"capitalize\"\n    },\n    className: \"car-type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 90\n    }\n  }, /*#__PURE__*/React.createElement(MdDirectionsCar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 96\n    }\n  })), \" \", selected.carType), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"car-type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(MdAirlineSeatReclineNormal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 59\n    }\n  })), \" \", selected.seats), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"car-type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(GoGear, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 59\n    }\n  })), \" \", selected.gears), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"car-type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(IoMdSnow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 59\n    }\n  })), \" \", selected.clima ? 'yes' : 'no')), /*#__PURE__*/React.createElement(\"img\", {\n    src: image,\n    alt: \"car\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 25\n    }\n  }, \"Price - \\u20AC \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 56\n    }\n  }, fixedPrice), \" /For a Day \")), /*#__PURE__*/React.createElement(RentForm, {\n    carId: carId,\n    onOrderHandler: onOrderHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  })));\n};\nexport default DetailRentPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useContext","useRef","useParams","useHistory","gsap","axios","PreLoader","RentForm","Layout","AuthContext","MdDirectionsCar","MdAirlineSeatReclineNormal","GoGear","IoMdSnow","DetailRentPage","props","userId","isLoading","setIsLoading","selected","setSelected","tl","title","line","history","carId","id","current","timeline","from","scale","opacity","width","get","then","res","data","car","catch","err","console","log","onOrderHandler","order","post","push","fixedPrice","price","toFixed","image","styleme","paddingtop","el","name","model","textTransform","carType","seats","gears","clima"],"sources":["/Users/Pranavkapoor1/Downloads/Web-Project-master/client/src/Rent/pages/RentPage.jsx"],"sourcesContent":["import React, {useState, useEffect, useCallback, useContext, useRef } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport gsap from 'gsap';\nimport axios from '../../axios';\n\nimport PreLoader from '../../shared/components/PreLoader/PreLoader';\nimport RentForm from '../components/RentForm';\nimport Layout from '../../shared/components/Layout/Layout';\nimport { AuthContext } from '../../shared/contexts/AuthContext';\nimport { MdDirectionsCar, MdAirlineSeatReclineNormal } from 'react-icons/md';\nimport { GoGear } from 'react-icons/go';\nimport { IoMdSnow } from 'react-icons/io'\n\nconst DetailRentPage = (props) => {\n\n    const { userId } = useContext(AuthContext);\n    const [ isLoading, setIsLoading ] = useState(false);\n    const [ selected, setSelected ] = useState({});\n    let tl = useRef();\n    let title = useRef(null);\n    let line = useRef(null);\n    const history = useHistory();\n    const carId = useParams().id;\n\n    useEffect(() => {\n        tl.current = gsap.timeline();\n        tl.current.from(title, 1.5,{scale: 0.5, opacity:0})\n                  .from(line, 2, { width: 0 }, 0.5)\n    }, []);\n\n     //Fetch single car element\n     useEffect(() => {\n        setIsLoading(true)\n        axios.get(`/fleet/${carId}`)\n             .then(res => {\n                setIsLoading(false);\n                setSelected(res.data.car);\n            }).catch(err => {\n                setIsLoading(false);\n                console.log(err);\n            });\n     }, [carId]);\n    \n     //Make an order\n     const onOrderHandler = useCallback((order) => {\n        setIsLoading(true);\n        axios.post('/orders', order, \n        { 'Content-Type': 'application/json' })\n             .then(res => {\n                setIsLoading(false);\n                history.push(`/my-orders/${userId}`)\n            }).catch(err => {\n                setIsLoading(false);\n                console.log(err);\n            })\n     }, [history, userId]);\n\n    let fixedPrice;\n    if(selected.price){\n        fixedPrice = (selected.price).toFixed(2);\n    };\n\n    let image\n    if(selected.image){\n        image = selected.image;\n    }\n    const styleme={\n        \n        width:'30%',\n        paddingtop:10\n     \n    }\n\n    return(        \n        <Layout>\n            <h1 ref={ el => ( title = el )} className='home-title'>\n                Rent a car, it has never been easier </h1>\n            <p ref={ el => ( line = el )} className='line'/>\n            <div className='rent-page-wrapper'>\n                {\n                    isLoading \n                    ? <PreLoader />\n                    : \n                    <div className='item-cars' style={styleme} >\n                        <p className='name'>{selected.name}<span> {selected.model}</span></p>\n                        <div className='options'>\n                            <p style={{textTransform:\"capitalize\"}} className='car-type'><span><MdDirectionsCar /></span> {selected.carType}</p>\n                            <p className='car-type'><span><MdAirlineSeatReclineNormal /></span> {selected.seats}</p>\n                            <p className='car-type'><span><GoGear /></span> {selected.gears}</p>\n                            <p className='car-type'><span><IoMdSnow /></span> {selected.clima ? 'yes' : 'no'}</p>\n                        </div>  \n                        <img src={image} alt='car'/>                     \n                        <p className='price'>Price - € <span>{fixedPrice}</span> /For a Day </p>\n                    </div>\n                }\n                <RentForm carId={carId}\n                onOrderHandler={onOrderHandler}/>\n            </div>\n        </Layout>\n    )\n}\n\nexport default DetailRentPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}