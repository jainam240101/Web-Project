{"ast":null,"code":"var _jsxFileName = \"/Users/Pranavkapoor1/Downloads/Web-Project-master/client/src/User/pages/Auth.jsx\";\nimport React, { useState, useCallback, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { FaRegArrowAltCircleLeft } from 'react-icons/fa';\nimport axios from '../../axios';\nimport Login from '../components/Login';\nimport Register from '../components/Register';\nimport { AuthContext } from '../../shared/contexts/AuthContext';\nimport Layout from '../../shared/components/Layout/Layout';\nconst Auth = () => {\n  const [toggleState, setToggleState] = useState(false);\n  const {\n    login\n  } = useContext(AuthContext);\n  const [isLoading, setIsLoadin] = useState(false);\n  const history = useHistory();\n\n  //Register new user post new user data to db\n  const onRegisterHandler = useCallback(user => {\n    setIsLoadin(true);\n    axios.post('/users/register', user, {\n      'Content-Type': 'application/json'\n    }).then(res => {\n      setIsLoadin(false);\n      login(res.data.userId, res.data.token, res.data.name);\n      history.push('/');\n    }).catch(err => {\n      setIsLoadin(false);\n      console.log(err);\n    });\n  }, [history, login]);\n\n  //Login user - post data to db\n  const onLoginHandler = useCallback(user => {\n    setIsLoadin(true);\n    axios.post('/users/login', user, {\n      'Content-Type': 'application/json'\n    }).then(res => {\n      setIsLoadin(false);\n      login(res.data.userId, res.data.token, res.data.name);\n      history.push('/');\n    }).catch(err => {\n      setIsLoadin(false);\n      console.log(err);\n    });\n  }, [history, login]);\n  const toggleAuth = () => {\n    setToggleState(prevState => !prevState);\n  };\n  return /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main-auth\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"settings\",\n    onClick: toggleAuth,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FaRegArrowAltCircleLeft, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 44\n    }\n  }, toggleState ? 'Move to Log-in' : 'Move to Registration')), toggleState ? /*#__PURE__*/React.createElement(Register, {\n    onRegisterHandler: onRegisterHandler,\n    isLoading: isLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 24\n    }\n  }) : /*#__PURE__*/React.createElement(Login, {\n    onLoginHandler: onLoginHandler,\n    isLoading: isLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 24\n    }\n  })));\n};\nexport default Auth;","map":{"version":3,"names":["React","useState","useCallback","useContext","useHistory","FaRegArrowAltCircleLeft","axios","Login","Register","AuthContext","Layout","Auth","toggleState","setToggleState","login","isLoading","setIsLoadin","history","onRegisterHandler","user","post","then","res","data","userId","token","name","push","catch","err","console","log","onLoginHandler","toggleAuth","prevState"],"sources":["/Users/Pranavkapoor1/Downloads/Web-Project-master/client/src/User/pages/Auth.jsx"],"sourcesContent":["import React, { useState, useCallback, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { FaRegArrowAltCircleLeft } from 'react-icons/fa';\nimport axios from '../../axios';\n\nimport Login from '../components/Login';\nimport Register from '../components/Register';\nimport { AuthContext } from '../../shared/contexts/AuthContext';\nimport Layout from '../../shared/components/Layout/Layout';\n\nconst Auth = () => {\n\n    const [ toggleState, setToggleState ] = useState(false);\n    const { login } = useContext(AuthContext);\n    const [isLoading, setIsLoadin] = useState(false);\n    const history = useHistory()\n\n    //Register new user post new user data to db\n    const onRegisterHandler = useCallback((user) => {\n        setIsLoadin(true);\n        axios.post('/users/register', user, \n        {'Content-Type': 'application/json'})\n             .then(res => {\n                setIsLoadin(false);\n                login(res.data.userId, res.data.token, res.data.name);\n                history.push('/')\n             }).catch(err => {\n                setIsLoadin(false);\n                console.log(err);\n             });\n    }, [history, login]);\n\n    //Login user - post data to db\n    const onLoginHandler = useCallback((user) => {\n        setIsLoadin(true);\n        axios.post('/users/login', user, \n        {'Content-Type': 'application/json'})\n             .then(res => {\n                setIsLoadin(false);\n                login(res.data.userId, res.data.token, res.data.name);\n                history.push('/')\n             }).catch(err => {\n                setIsLoadin(false);\n                console.log(err);\n             });\n    }, [history, login]);\n   \n\n    const toggleAuth = () => {\n        setToggleState(prevState => !prevState)\n    }\n\n    return(\n        <Layout>\n            <div className='main-auth'>\n                <div className='settings' onClick={toggleAuth}>\n                <FaRegArrowAltCircleLeft /><span>{toggleState ?  'Move to Log-in' : 'Move to Registration' }</span></div>\n                {\n                    toggleState \n                    ?  <Register onRegisterHandler={onRegisterHandler}\n                        isLoading={isLoading} /> \n                    :  <Login onLoginHandler={onLoginHandler}\n                        isLoading={isLoading}/>\n                }              \n            </div>\n        </Layout>\n    )\n}\n\nexport default Auth;"],"mappings":"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"},"metadata":{},"sourceType":"module"}