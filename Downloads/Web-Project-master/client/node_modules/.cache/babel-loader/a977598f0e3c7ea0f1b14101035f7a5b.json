{"ast":null,"code":"var _jsxFileName = \"/Users/Pranavkapoor1/Downloads/Web-Project-master/client/src/Fleet/pages/FleetSearchPage.jsx\";\nimport React, { useEffect, useState, useRef, Fragment } from 'react';\nimport axios from '../../axios';\nimport gsap from 'gsap';\nimport { useParams } from 'react-router-dom';\nimport PreLoader from '../../shared/components/PreLoader/PreLoader';\nimport Layout from '../../shared/components/Layout/Layout';\nimport FleetList from '../components/FleetList';\nimport Pagination from '../../shared/components/Pagination/Pagination';\nconst FleetSearchPage = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [searched, setSearched] = useState([]);\n  const [currentPage, setCurrenPage] = useState(1);\n  const itemsPerPage = 6;\n  let tl = useRef();\n  let searchTitle = useRef(null);\n  const name = useParams().name;\n  const indexOfLastItem = currentPage * itemsPerPage;\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n  const currentItems = searched.slice(indexOfFirstItem, indexOfLastItem);\n  useEffect(() => {\n    tl.current = gsap.timeline();\n    tl.current.from(searchTitle, 1, {\n      y: -20,\n      opacity: 0\n    });\n  }, []);\n  useEffect(() => {\n    setIsLoading(true);\n    axios.get(`/fleet/sort/${name}`).then(res => {\n      setIsLoading(false);\n      setSearched(res.data.cars);\n    }).catch(err => {\n      setIsLoading(false);\n      console.log(err);\n    });\n  }, [name]);\n  const onPaginationHandler = number => {\n    setCurrenPage(number);\n  };\n  let offers;\n  if (searched.length) {\n    offers = /*#__PURE__*/React.createElement(\"p\", {\n      className: \"offer-counter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 18\n      }\n    }, \"we have \", searched.length, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, \" \", searched.length === 1 ? 'offer' : 'offers', \" \"), \"for you\");\n  }\n  return /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    ref: el => searchTitle = el,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, \"don't dream it, Drive it!\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  })), offers, isLoading ? /*#__PURE__*/React.createElement(PreLoader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FleetList, {\n    fleet: currentItems,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }\n  }), searched.length > 6 && /*#__PURE__*/React.createElement(Pagination, {\n    totalItems: searched.length,\n    itemsPerPage: itemsPerPage,\n    pagination: onPaginationHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 29\n    }\n  })));\n};\nexport default FleetSearchPage;","map":{"version":3,"names":["React","useEffect","useState","useRef","Fragment","axios","gsap","useParams","PreLoader","Layout","FleetList","Pagination","FleetSearchPage","isLoading","setIsLoading","searched","setSearched","currentPage","setCurrenPage","itemsPerPage","tl","searchTitle","name","indexOfLastItem","indexOfFirstItem","currentItems","slice","current","timeline","from","y","opacity","get","then","res","data","cars","catch","err","console","log","onPaginationHandler","number","offers","length","el"],"sources":["/Users/Pranavkapoor1/Downloads/Web-Project-master/client/src/Fleet/pages/FleetSearchPage.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef, Fragment } from 'react';\nimport axios from '../../axios';\nimport gsap from 'gsap';\nimport { useParams } from 'react-router-dom';\n\nimport PreLoader from '../../shared/components/PreLoader/PreLoader';\nimport Layout from '../../shared/components/Layout/Layout';\nimport FleetList from '../components/FleetList';\nimport Pagination from '../../shared/components/Pagination/Pagination';\n\nconst FleetSearchPage = () => {\n\n    const [ isLoading, setIsLoading ] = useState(false);\n    const [ searched, setSearched ] = useState([]);\n    const [ currentPage, setCurrenPage ] = useState(1);\n    const itemsPerPage = 6;\n    let tl = useRef();\n    let searchTitle = useRef(null);\n    const name = useParams().name;\n\n    const indexOfLastItem = currentPage * itemsPerPage;\n    const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n    const currentItems = searched.slice(indexOfFirstItem, indexOfLastItem);\n\n    useEffect(() => {\n        tl.current = gsap.timeline();\n        tl.current.from(searchTitle, 1,{y: -20, opacity:0})\n    }, []);\n\n      useEffect(() => {\n        setIsLoading(true)\n        axios.get(`/fleet/sort/${name}`)\n             .then(res => {\n                setIsLoading(false);\n                setSearched(res.data.cars)\n             }).catch(err => {\n                setIsLoading(false);\n                console.log(err)\n             });\n    },[name]);\n\n    const onPaginationHandler = (number) => {\n        setCurrenPage(number);      \n    };\n\n    let offers;\n    if(searched.length){\n        offers = <p className='offer-counter'>we have {searched.length} \n        <span> {searched.length ===  1 ? 'offer' : 'offers'} </span>for you</p>\n    }\n\n\n    return(\n        <Layout>\n            <div className='title-search' >\n                <h1 ref={ el => ( searchTitle = el )}>don't dream it, Drive it!</h1>\n                <p className='line'/>\n            </div>\n            {offers}\n            {\n                isLoading \n                ?   <PreLoader /> \n                :   <Fragment>\n                        <FleetList fleet={currentItems} />\n                        { searched.length > 6 && \n                            <Pagination totalItems={searched.length}\n                            itemsPerPage={itemsPerPage}\n                            pagination={onPaginationHandler}/>\n                        }\n                    </Fragment>\n            }   \n        </Layout>\n    )\n\n}\n\nexport default FleetSearchPage"],"mappings":"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"},"metadata":{},"sourceType":"module"}